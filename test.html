<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Vercel éƒ¨ç½²æµ‹è¯•é¡µé¢</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            max-width: 800px;
            margin: 0 auto;
            padding: 20px;
            background: #1a1a1a;
            color: #fff;
        }
        .test-item {
            background: #2a2a2a;
            padding: 15px;
            margin: 10px 0;
            border-radius: 8px;
            border-left: 4px solid #d4af37;
        }
        .success { border-left-color: #4caf50; }
        .error { border-left-color: #f44336; }
        .warning { border-left-color: #ff9800; }
        button {
            background: #d4af37;
            color: #000;
            border: none;
            padding: 10px 20px;
            border-radius: 4px;
            cursor: pointer;
            margin: 5px;
        }
        button:hover { background: #ffd966; }
        .info { color: #888; font-size: 12px; margin-top: 5px; }
    </style>
</head>
<body>
    <h1>ğŸ” Vercel éƒ¨ç½²è¯Šæ–­å·¥å…·</h1>
    <p>è¿™ä¸ªé¡µé¢å¯ä»¥å¸®åŠ©æ‚¨è¯Šæ–­æ‰‹æœºæµè§ˆå™¨æ— æ³•æ‰“å¼€ç½‘é¡µçš„é—®é¢˜ã€‚</p>
    
    <div id="results"></div>
    
    <button onclick="runTests()">é‡æ–°æµ‹è¯•</button>
    <button onclick="window.location.href='index.html'">è¿”å›ä¸»é¡µé¢</button>
    
    <script>
        const tests = [
            {
                name: 'åŸºæœ¬é¡µé¢åŠ è½½',
                test: () => Promise.resolve(true),
                message: 'é¡µé¢å·²æˆåŠŸåŠ è½½'
            },
            {
                name: 'JavaScript æ”¯æŒ',
                test: () => Promise.resolve(typeof window !== 'undefined'),
                message: 'æµè§ˆå™¨æ”¯æŒ JavaScript'
            },
            {
                name: 'HTTPS åè®®',
                test: () => Promise.resolve(window.location.protocol === 'https:' || window.location.hostname === 'localhost'),
                message: 'ä½¿ç”¨ HTTPS æˆ– localhost'
            },
            {
                name: 'Three.js CDN',
                test: () => fetch('https://cdn.jsdelivr.net/npm/three@0.160.0/build/three.module.js', { method: 'HEAD' })
                    .then(r => r.ok)
                    .catch(() => false),
                message: 'å¯ä»¥è®¿é—® Three.js CDN'
            },
            {
                name: 'Google Fonts',
                test: () => fetch('https://fonts.googleapis.com/css2?family=Cinzel', { method: 'HEAD' })
                    .then(r => r.ok)
                    .catch(() => false),
                message: 'å¯ä»¥è®¿é—® Google Fonts'
            },
            {
                name: 'Font Awesome CDN',
                test: () => fetch('https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css', { method: 'HEAD' })
                    .then(r => r.ok)
                    .catch(() => false),
                message: 'å¯ä»¥è®¿é—® Font Awesome CDN'
            },
            {
                name: 'å›¾ç‰‡æ–‡ä»¶å¤¹',
                test: () => fetch('./baby/å¾®ä¿¡å›¾ç‰‡_20251211120035_104_65.jpg', { method: 'HEAD' })
                    .then(r => r.ok)
                    .catch(() => false),
                message: 'å¯ä»¥è®¿é—®å›¾ç‰‡æ–‡ä»¶å¤¹'
            },
            {
                name: 'WebGL æ”¯æŒ',
                test: () => {
                    try {
                        const canvas = document.createElement('canvas');
                        return !!(canvas.getContext('webgl') || canvas.getContext('experimental-webgl'));
                    } catch (e) {
                        return false;
                    }
                },
                message: 'æµè§ˆå™¨æ”¯æŒ WebGL'
            },
            {
                name: 'è§¦æ‘¸äº‹ä»¶æ”¯æŒ',
                test: () => Promise.resolve('ontouchstart' in window || navigator.maxTouchPoints > 0),
                message: 'è®¾å¤‡æ”¯æŒè§¦æ‘¸æ“ä½œ'
            },
            {
                name: 'æ‘„åƒå¤´æƒé™æ£€æŸ¥',
                test: () => {
                    if (!navigator.mediaDevices || !navigator.mediaDevices.getUserMedia) {
                        return Promise.resolve(false);
                    }
                    return navigator.mediaDevices.enumerateDevices()
                        .then(devices => devices.some(d => d.kind === 'videoinput'))
                        .catch(() => false);
                },
                message: 'å¯ä»¥æ£€æµ‹æ‘„åƒå¤´è®¾å¤‡ï¼ˆéœ€è¦ç”¨æˆ·æˆæƒï¼‰'
            }
        ];
        
        async function runTests() {
            const resultsDiv = document.getElementById('results');
            resultsDiv.innerHTML = '<h2>æ­£åœ¨æµ‹è¯•...</h2>';
            
            for (const testItem of tests) {
                const div = document.createElement('div');
                div.className = 'test-item';
                div.innerHTML = `
                    <strong>${testItem.name}</strong>
                    <div class="info">æµ‹è¯•ä¸­...</div>
                `;
                resultsDiv.appendChild(div);
                
                try {
                    const result = await testItem.test();
                    div.className = `test-item ${result ? 'success' : 'error'}`;
                    div.innerHTML = `
                        <strong>${testItem.name}</strong>
                        <div class="info">${result ? 'âœ… é€šè¿‡' : 'âŒ å¤±è´¥'}</div>
                        <div class="info">${testItem.message}</div>
                    `;
                } catch (error) {
                    div.className = 'test-item error';
                    div.innerHTML = `
                        <strong>${testItem.name}</strong>
                        <div class="info">âŒ é”™è¯¯: ${error.message}</div>
                    `;
                }
            }
            
            // æ·»åŠ æ€»ç»“
            const summary = document.createElement('div');
            summary.className = 'test-item';
            const passed = document.querySelectorAll('.test-item.success').length;
            const total = tests.length;
            summary.innerHTML = `
                <strong>æµ‹è¯•æ€»ç»“</strong>
                <div class="info">é€šè¿‡: ${passed}/${total}</div>
                ${passed === total ? 
                    '<div class="info" style="color: #4caf50;">âœ… æ‰€æœ‰æµ‹è¯•é€šè¿‡ï¼å¦‚æœä¸»é¡µé¢ä»æ— æ³•æ‰“å¼€ï¼Œè¯·æ£€æŸ¥æ§åˆ¶å°é”™è¯¯ã€‚</div>' :
                    '<div class="info" style="color: #ff9800;">âš ï¸ éƒ¨åˆ†æµ‹è¯•å¤±è´¥ï¼Œè¿™å¯èƒ½æ˜¯å¯¼è‡´é—®é¢˜çš„åŸå› ã€‚</div>'
                }
            `;
            resultsDiv.appendChild(summary);
        }
        
        // é¡µé¢åŠ è½½æ—¶è‡ªåŠ¨è¿è¡Œæµ‹è¯•
        runTests();
    </script>
</body>
</html>

